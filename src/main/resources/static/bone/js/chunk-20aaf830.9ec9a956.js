(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20aaf830"],{"16c9":function(e,t,a){"use strict";var n=a("bfd2"),r=a.n(n);r.a},7415:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"case-list-container shadow"},[a("el-form",{staticClass:"demo-form-inline all-search",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"患者姓名"}},[a("el-input",{attrs:{placeholder:"患者姓名"},model:{value:e.caseQuery.patient,callback:function(t){e.$set(e.caseQuery,"patient",t)},expression:"caseQuery.patient"}})],1),"ADMIN"===e.userInfo.role?a("el-form-item",{attrs:{label:"医生"}},[a("el-input",{attrs:{placeholder:"医生"},model:{value:e.caseQuery.doctorName,callback:function(t){e.$set(e.caseQuery,"doctorName",t)},expression:"caseQuery.doctorName"}})],1):e._e(),"ADMIN"===e.userInfo.role?a("el-form-item",{attrs:{label:"医院"}},[a("el-input",{attrs:{placeholder:"所属医院"},model:{value:e.caseQuery.hospital,callback:function(t){e.$set(e.caseQuery,"hospital",t)},expression:"caseQuery.hospital"}})],1):e._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.queryCase}},[e._v("查询")])],1),a("el-form-item",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.notifyAnnouncement()}}},[e._v("公告")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.caseList.list,"header-cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",staticStyle:{"margin-left":"50px"},attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"病人身份证号"}},[e._v(" "+e._s(e.formatParam(t.row.idCard))+" ")]),a("el-form-item",{attrs:{label:"病人手机号"}},[e._v(" "+e._s(e.formatParam(t.row.phone))+" ")]),a("el-form-item",{attrs:{label:"病历号"}},[e._v(" "+e._s(e.formatParam(t.row.hospitalCaseId))+" ")]),a("el-form-item",{staticStyle:{"white-space":"pre-line"},attrs:{label:"诊断"}},[a("div",{staticClass:"text-wrapper"},[e._v(e._s(t.row.caseInfo))])]),a("el-form-item",{attrs:{label:"备注"}},[e._v(" "+e._s(e.formatParam(t.row.mark))+" ")])],1)]}}])}),a("el-table-column",{attrs:{label:"病人姓名",prop:"patient","min-width":"100",align:"center"}}),a("el-table-column",{attrs:{label:"病人年龄",prop:"patientAge","min-width":"80",align:"center"}}),a("el-table-column",{attrs:{label:"病人性别",prop:"gender","min-width":"80",align:"center"}}),a("el-table-column",{attrs:{label:"分组","min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.affectedSide+t.row.affectedLimb+t.row.caseType)+" ")]}}])}),a("el-table-column",{attrs:{label:"医生姓名",prop:"doctorName","min-width":"80",align:"center"}}),a("el-table-column",{attrs:{label:"医院",prop:"hospital","min-width":"140",align:"center"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createBy","min-width":"160",align:"center"}}),a("el-table-column",{attrs:{width:"200",label:"操作",align:"left",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(a){return e.medicalRecord(t.row)}}},[e._v(" 就诊记录 ")]),e.userInfo.name===t.row.doctorName?a("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:function(a){return e.updateCase(t.row)}}},[e._v(" 修改 ")]):e._e()]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{"hide-on-single-page":"","current-page":e.caseList.pageNum,"page-size":e.caseList.pageSize,layout:"prev, pager, next, total",total:e.caseList.total,"page-count":e.caseList.pages},on:{"update:currentPage":function(t){return e.$set(e.caseList,"pageNum",t)},"update:current-page":function(t){return e.$set(e.caseList,"pageNum",t)},"current-change":e.queryCase}})],1)},r=[],s=(a("b0c0"),a("5530")),o=a("d4f4"),i=a("4360"),c={name:"caseList",data:function(){return{userInfo:{},caseQuery:{patient:"",doctorName:"",hospital:""},caseList:{pageNum:1,pageSize:15,total:0,list:[]}}},created:function(){var e=(new Date).valueOf();e-localStorage.getItem("lastNotify")>72e4&&(this.notifyAnnouncement(),localStorage.setItem("lastNotify",e))},mounted:function(){this.getUserInfo(),this.queryCase()},methods:{queryCase:function(){var e=this;Object(o["f"])(Object(s["a"])(Object(s["a"])({},this.caseQuery),{},{pageNum:this.caseList.pageNum,pageSize:this.caseList.pageSize})).then((function(t){e.caseList=t}))},medicalRecord:function(e){this.$router.push({name:"medicalRecord",params:{case:e}})},updateCase:function(e){this.$router.push({name:"newCase",params:{caseInfo:e}})},notifyAnnouncement:function(){this.$notify({title:"公告",message:'<strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i style="color: #F56C6C"></i></strong>',dangerouslyUseHTMLString:!0,type:"warning",duration:1e4})},getUserInfo:function(){i["a"].dispatch("user/getInfo");var e={};e.id=i["a"].getters.id,e.name=i["a"].getters.name,e.hospital=i["a"].getters.hospital,e.phone=i["a"].getters.phone,e.email=i["a"].getters.email,e.role=i["a"].getters.role,this.userInfo=e},formatParam:function(e){return null===e||""===e?"空":e}}},l=c,u=(a("16c9"),a("2877")),p=Object(u["a"])(l,n,r,!1,null,"7686939b",null);t["default"]=p.exports},bfd2:function(e,t,a){},d4f4:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"l",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"m",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"j",(function(){return m})),a.d(t,"i",(function(){return f})),a.d(t,"k",(function(){return b})),a.d(t,"c",(function(){return h})),a.d(t,"n",(function(){return g}));var n=a("b775");function r(e){return Object(n["a"])({url:"/case/newCase",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/case/updateCase",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/case/queryCase",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/case/newChildCaseRecord",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/case/updateChildCaseRecord",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/case/childCaseRecordList",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/case/queryCaseById",method:"get",params:e})}function p(e){return Object(n["a"])({url:"/case/queryCaseByPatient",method:"get",params:e})}function d(e){return Object(n["a"])({url:"/case/childCaseInfo",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/case/recordInitialPose",method:"get",params:e})}function f(e){return Object(n["a"])({url:"/case/recordFinalPose",method:"get",params:e})}function b(e){return Object(n["a"])({url:"/case/recordPose",method:"get",params:e})}function h(e){return Object(n["a"])({url:"/case/deleteChildCaseRecord",method:"delete",data:e})}function g(e){return Object(n["a"])({url:"/case/uploadXRay",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}}}]);